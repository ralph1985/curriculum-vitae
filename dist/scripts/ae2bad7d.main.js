console.time("test"),window.CurriculumVitae={Models:{},Collections:{},Views:{},Routers:{},Config:{},init:function(){"use strict";this.Routers.AppRouter=new CurriculumVitae.Routers.CurriculumVitae;var a=new CurriculumVitae.Views.Menu;a.render(),console.trace(),console.timeEnd("test"),console.log("Hello from Backbone!")}},$(document).ready(function(){"use strict";$.when(CurriculumVitae.Config.loadLocales()).done(function(){CurriculumVitae.init()})}),CurriculumVitae.Config=CurriculumVitae.Config||{},function(){"use strict";CurriculumVitae.Config.supportedLanguages=[{id:"es",name:"Espa√±ol"},{id:"en",name:"English"}],CurriculumVitae.Config.defaultLanguage="es",CurriculumVitae.Config.isSupportedLanguage=function(a){return!!_.find(this.supportedLanguages,function(b){return b.id===a})},CurriculumVitae.Config.changeSelectedLanguage=function(a){this.isSupportedLanguage(a)?window.localStorage.setItem("selectedLanguage",a):window.localStorage.setItem("selectedLanguage",this.defaultLanguage)},CurriculumVitae.Config.initLanguage=function(){try{var a=window.localStorage.getItem("selectedLanguage");if(a&&this.isSupportedLanguage(a))return this.selectedLanguage=a,void this.changeSelectedLanguage(this.selectedLanguage);var b=(window.navigator.userLanguage||window.navigator.language).substr(0,2);if(b&&this.isSupportedLanguage(b))return this.selectedLanguage=b,void this.changeSelectedLanguage(this.selectedLanguage);this.selectedLanguage=this.defaultLanguage,this.changeSelectedLanguage(this.selectedLanguage)}catch(c){console.error(c)}},CurriculumVitae.Config.loadLocales=function(){var a=this;return $.getJSON("i18n/"+a.selectedLanguage+".json",function(b){console.table(b),window.polyglot=new Polyglot({locale:a.selectedLanguage,phrases:b}),window.t=function(a){return window.polyglot.t(a)}})},CurriculumVitae.Config.initLanguage()}(),this.JST=this.JST||{},this.JST["app/scripts/templates/job.ejs"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="<div>\n    <h2>"+(null==(__t=job.get("name"))?"":__t)+"</h2>\n\n    <p>"+(null==(__t=job.get("description"))?"":__t)+"</p>\n\n    <div>\n        <ul>\n            ",job.get("projects").each(function(a){__p+='\n            <li>\n                <a href="#jobs/'+(null==(__t=job.get("id"))?"":__t)+"/"+(null==(__t=a.get("id"))?"":__t)+'">\n                    '+(null==(__t=a.get("name"))?"":__t)+"\n                </a>\n            </li>\n            "}),__p+='\n        </ul>\n    </div>\n\n    <div id="project-content"></div>\n</div>\n';return __p},this.JST["app/scripts/templates/jobs-list.ejs"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+="<div>\n    <div>\n        <ul>\n            ",jobs.each(function(a){__p+='\n            <li>\n                <a href="#jobs/'+(null==(__t=a.get("id"))?"":__t)+'">\n                    '+(null==(__t=a.get("name"))?"":__t)+"\n                </a>\n            </li>\n            "}),__p+='\n        </ul>\n    </div>\n\n    <div>\n        <div id="job-content"></div>\n    </div>\n</div>\n';return __p},this.JST["app/scripts/templates/menu.ejs"]=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<ul class="nav nav-pills">\n    <li>\n        <a href="#">'+(null==(__t=t("menu.home"))?"":__t)+'</a>\n    </li>\n    <li>\n        <a href="#profile">'+(null==(__t=t("menu.profile"))?"":__t)+'</a>\n    </li>\n    <li>\n        <a href="#jobs">'+(null==(__t=t("menu.jobs"))?"":__t)+'</a>\n    </li>\n    <li>\n        <a href="#contact">'+(null==(__t=t("menu.contact"))?"":__t)+'</a>\n    </li>\n    <li>\n        <select id="select-languages">\n            ',_.each(CurriculumVitae.Config.supportedLanguages,function(a){__p+='\n            <option\n                    value="'+(null==(__t=a.id)?"":__t)+'"\n                    ',CurriculumVitae.Config.selectedLanguage===a.id&&(__p+="\n                    selected\n                    "),__p+="\n            >"+(null==(__t=a.name)?"":__t)+"</option>\n            "}),__p+="\n        </select>\n    </li>\n</ul>\n";return __p},this.JST["app/scripts/templates/project.ejs"]=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+="<div>\n    <h3>"+(null==(__t=project.get("name"))?"":__t)+"</h3>\n\n    <p>"+(null==(__t=project.get("description"))?"":__t)+"</p>\n</div>\n";return __p},CurriculumVitae.Functions=CurriculumVitae.Functions||{},function(){"use strict";CurriculumVitae.Functions={}}(),CurriculumVitae.Views=CurriculumVitae.Views||{},function(){"use strict";CurriculumVitae.Views.Menu=Backbone.View.extend({template:JST["app/scripts/templates/menu.ejs"],tagName:"ul",id:"",className:"",events:{},$container:$("#main-menu"),initialize:function(){},render:function(){return this.$container.html(this.template()),this.bindEvents(),this},bindEvents:function(){this.$container.find("#select-languages").off().on("change",this.changeLanguage)},changeLanguage:function(a){a.preventDefault(),CurriculumVitae.Config.changeSelectedLanguage($(a.target).val()),window.location.reload()}})}(),CurriculumVitae.Views=CurriculumVitae.Views||{},function(){"use strict";CurriculumVitae.Views.Project=Backbone.View.extend({template:JST["app/scripts/templates/project.ejs"],tagName:"div",id:"",className:"",events:{},initialize:function(){this.listenTo(this.model,"sync",this.render)},render:function(){return this.template({project:this.model})}})}(),CurriculumVitae.Models=CurriculumVitae.Models||{},function(){"use strict";CurriculumVitae.Models.Project=Backbone.Model.extend({initialize:function(){},defaults:{id:"",name:"",description:""},idAttribute:"id",validate:function(a){var b={};return a.id||(b.id='"id" is mandatory.'),a.name||(b.name='"name" is mandatory.'),a.description||(b.description='"description" is mandatory.'),_.isEmpty(b)?void 0:b},parse:function(a){return a}})}(),CurriculumVitae.Collections=CurriculumVitae.Collections||{},function(){"use strict";CurriculumVitae.Collections.Projects=Backbone.Collection.extend({model:CurriculumVitae.Models.Project})}(),CurriculumVitae.Views=CurriculumVitae.Views||{},function(){"use strict";CurriculumVitae.Views.Job=Backbone.View.extend({template:JST["app/scripts/templates/job.ejs"],tagName:"div",id:"",className:"",events:{},initialize:function(){this.listenTo(this.model,"sync",this.render)},render:function(){return this.template({job:this.model})}})}(),CurriculumVitae.Views=CurriculumVitae.Views||{},function(){"use strict";CurriculumVitae.Views.JobsList=Backbone.View.extend({template:JST["app/scripts/templates/jobs-list.ejs"],tagName:"div",id:"",className:"",events:{},initialize:function(){this.listenTo(this.collection,"sync",this.render)},render:function(){return this.template({jobs:this.collection})}})}(),CurriculumVitae.Models=CurriculumVitae.Models||{},function(){"use strict";CurriculumVitae.Models.Job=Backbone.Model.extend({initialize:function(){},defaults:{id:"",name:"",description:"",projects:new CurriculumVitae.Collections.Projects},idAttribute:"id",validate:function(a){var b={};return a.id||(b.id='"id" is mandatory.'),a.name||(b.name='"name" is mandatory.'),a.description||(b.description='"description" is mandatory.'),_.isEmpty(b)?void 0:b},parse:function(a){return a.projects=new CurriculumVitae.Collections.Projects(a.projects),a}})}(),CurriculumVitae.Collections=CurriculumVitae.Collections||{},function(){"use strict";CurriculumVitae.Collections.Jobs=Backbone.Collection.extend({url:"data/"+CurriculumVitae.Config.selectedLanguage+"/jobs.json",model:CurriculumVitae.Models.Job})}(),CurriculumVitae.Routers=CurriculumVitae.Routers||{},function(){"use strict";CurriculumVitae.Routers.CurriculumVitae=Backbone.Router.extend({routes:{"":"index",profile:"profile",jobs:"jobs","jobs/:jobId":"jobs","jobs/:jobId/:projectId":"jobs",contact:"contact"},$container:$("#primary-content"),initialize:function(){this.listJobs=new CurriculumVitae.Collections.Jobs,Backbone.history.start()},index:function(){return this.$container.html("")},profile:function(){return this.$container.html("")},jobs:function(a,b){var c=this,d=function(){var d=new CurriculumVitae.Views.JobsList({collection:c.listJobs});c.$container.html(d.render());var e=c.$container.find("#job-content");if(a){var f=c.listJobs.get(a),g=new CurriculumVitae.Views.Job({model:f});e.html(g.render());var h=e.find("#project-content");if(b){var i=new CurriculumVitae.Views.Project({model:f.get("projects").get(b)});h.html(i.render())}else h.html("")}else e.html("")};return 0===c.listJobs.length?c.listJobs.fetch({success:function(){console.log("JSON file (jobs.json) load was successful",c.listJobs)},error:function(){console.log("There was some error in loading and processing the JSON file (jobs.json)")}}).done(function(){d()}):d(),this},contact:function(){return this.$container.html("")}})}();